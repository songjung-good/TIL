# DB정규화

### 정규화란
- 동일한 의미의 일반 속성을 하나의 테이블로 집약시킴
- 논리적 모델링

### 정규화 특징
- 테이블간의 중복된 데이터를 최소화
    - 저장용량의 최적화 가능
    - 제이터의 무결성 우지
    - 쿼리 내의 join을 많이 사용하게 되어 응답시간 저하를 초래할 수 있음

### 1정규화
- 중복속성을 갖고있는 형태를 분리
- 반복속성 제거하고
- 새 테이블을 추가한 후 1:N으로 정리
- 정보가 추가되면 컬럼을 추가해야함(확정성 고려 x)
- 저장소를 낭비

### 2정규화
- 부분 종속 관계를 분리
  
### 3정규화
- 부서이름 컬럼은 부서코드에 종속
- 같은 부서 직원들은 같은 부서 이름을 여러번 저장하므로 데이터 중복

### 정규화의 단점
- join 연산이 많아져서 query 반응 속도 낮음


## 반정규화
- 시스템의 성능 향상, 개발과정의 편의성, 운영의 단순화를 위해
- 테이블 컬럼 
- 2개 이상의 테이블에 동일 컬럼을 중복 

### 반정규화 고려대상
- 대량의 범위를 자주 처리
- 특정 범위의 데이터만 자주 처리

### 테이블 수직 분할
하나의 테이블을 두개 이상의 테이블로 분할
자주 사용하는 컬럼을 기준으로 분리하여 성능 향상

### 테이블 수평 분할
- 파티션 기능을 사용해서 일자에 따라 데이터를 물릴적으로 분리
- 데이터 접근의 효율성

### 통계테이블 축
- 미리 계산된 값을 저장해 둠으로써 어플리케이션 성능을 향상시키려는 경우

### 이력테이블 추가
- entity에 대한 이력 데이터를 관리하는 경우

### 파생컬럼 추가
- 여러테이블을 join해서 얻을 수 있는 정보값이 자주사용된다면 미리 계산된 컬럼을 추가

### 중복관계 추가
- 여러경로를 걸쳐 join이 가능하지만, 성능저하를 막기위해 중복관계 추가


## DB 정규화 vs 반정규화
- 상황에 맞게 성격 데이터 양 access빈도 
- 우선순위 결정 필요
  - 데이터의 일관성과 무결성이 중요한지
  - 성능과 운영 단순화에 집중